{% extends "admin/change_list.html" %}
{% load i18n admin_urls %}

{% block content %}
<div id="content-main">
    <div class="module">
        <h2>24-Hour Activity Summary</h2>
        <div style="display: flex; gap: 20px; margin-bottom: 20px;">
            <div style="flex: 1;">
                <h3>Recent Activity by Type</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Event Type</th>
                            <th>Count</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for activity in recent_activity %}
                        <tr>
                            <td>{{ activity.event_type }}</td>
                            <td>{{ activity.count }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <div style="flex: 1;">
                <h3>Service Activity</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Service</th>
                            <th>Count</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for activity in service_activity %}
                        <tr>
                            <td>{{ activity.service_instance__name }}</td>
                            <td>{{ activity.count }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <div style="flex: 1;">
                <h3>Error Summary</h3>
                <p>Total errors in last 24 hours: {{ error_count }}</p>
            </div>
        </div>
    </div>
    {{ block.super }}
</div>
{% endblock %} 